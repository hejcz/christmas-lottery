<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<div th:replace="header"></div>
<body>
<div th:replace="nav"></div>
<div class="container">


    <!--/*@thymesVar id="lotteryPerformed" type="java.lang.Boolean"*/-->
    <div th:id="recipient-info" th:classappend="text-white">
        <div th:class="bg-success" th:if="${lotteryPerformed and recipientWithWishes != null}">
            W tym roku prezent ode mnie otrzyma
            <span th:text="${recipientWithWishes.recipient()}"></span>
        </div>
        <div th:class="bg-warning" th:if="${!lotteryPerformed and recipientWithWishes == null}">
            W tym roku losowanie jeszcze się nie odbyło
        </div>
        <div th:class="bg-danger" th:if="${lotteryPerformed and recipientWithWishes == null}">
            Losowanie się odbyło, ale nie wziąłeś w nim udziału.
        </div>
    </div>

    <!--/*@thymesVar id="hasRecipient" type="java.lang.Boolean"*/-->
    <!--/*@thymesVar id="recipientWithWishes" type="lesziy.carol.domain.lottery.DtoWishGiver"*/-->
    <table class="table mt-2" th:if="${hasRecipient}">
        <thead>
        <th>Propozycje
        </th>
        </thead>
        <tr th:each="myWish : ${recipientWithWishes.recipientWishes()}">
            <td th:text="${myWish.getText()}"></td>
        </tr>
    </table>

    <!--/*@thymesVar id="myWishes" type="java.util.Collection<lesziy.carol.web.ui.dashboard.WishesForm>"*/-->
    <form action="#" th:action="@{/dashboard/editWishes}" th:object="${myWishes}" th:method="post">
        <table id="my-wishes" class="table">
            <thead>
            <th class="col-sm-7">Moje życzenia</th>
            <th class="col-sm-2">Chcę to</th>
            <th class="col-sm-3"></th>
            </thead>
            <tbody>
            <tr th:each="name, idx : *{wishes}">
                <td th:hidden="true">
                    <input type="text" th:field="*{wishes[__${idx.index}__].id}"/>
                </td>
                <td th:class="|wish-text|">
                    <input type="text" th:class="form-control" th:field="*{wishes[__${idx.index}__].text}" readonly="" />
                </td>
                <td >
                    <button type="button" class="selected-elem btn rank-third rank">TROCHĘ</button>
                    <div class="rank-select">
                        <button type="button" class="btn rank-first rank">NAJBARDZIEJ</button>
                        <button type="button" class="btn rank-second rank">BARDZO</button>
                        <button type="button" class="btn rank-third rank">TROCHĘ</button>
                    </div>
                </td>
                <td >
                    <div th:class="float-right">
                        <button type="button" class="btn btn-info edit-wish">Edytuj</button>
                        <button type="button" class="btn btn-danger remove-wish">Usuń</button>
                    </div>
                </td>
            </tr>
            </tbody>
        </table>
        <div th:class="other-buttons">
            <button type="button" class="btn add-wish">Nowe życzenie</button>
            <button class="btn btn-primary">Zapisz</button>
        </div>
    </form>


</div>
<div th:replace="js"></div>
</body>
</html>